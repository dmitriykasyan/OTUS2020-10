# Курсовая работа

## Автоматизированное развертывание стенда с комплексным Web приложением

Цель работы: Использование на практике приобретенных знаний и навыков при автоматизированном развертывания стенда с комплексным Web приложением.

### Схема стенда 

![схема стенда](images/Otus%20Project.png)

### Описание стенда

В процессе работы планируется развернуть 6 виртуальных машин с использованием Ansible ролей  

- Сервер AppSrv будет использоваться качестве Web приложения 
  - BackEnd сервер Nginx, работающий на HTTP
  - CRM WordPress 5.7.2 включающий
    - PHP 8.0.6
- Серверы баз данных MySQL 8.0.25 размещенных на двух серверах с реализацией репликации данных.
  - сервер реплики служит для увеличения производительности и обслуживания базы данных
- Сервер RouterSrv будет использоваться как пограничный.  
  Основные функции: 
  - Nginx Proxy
    - Перенаправление входящих соединений по протоколу HTTP 80 на HTTPS
    - Обработка входящих соединений по протоколу HTTPS 443
    - Перенаправление соединений на BackEnd Nginx
  - Firewall
    - Организация нормально закрытого Firewall, порты для соединений (80, 443)
    - Доступ по SSH организованный через Port Knocking
    - Блокировку соединений Fail2Ban
  - DNS сервер для BackEnd
- Сервер LogSrv будет использоваться для:
  - мониторинга всей системы на базе Zabbix
  - сбора логов всей системы на базе стека ELK
- Сервер BackUpSrv в качестве сервера резервных копий.

## Этапы развертывания:

Вся работа разделена на этапы:

1. Развертывание AppSrv
   - Настройка Nginx
   - Настройка PHP
2. Развертывание DBMasterSrv
   - Настройка MySQL
   - Развертывание LEMP с внешним сервером базы данных
   - Установка WordPress
3. Развертывание RouterSrv
   - Настройка Fierwall
   - Настройка DNS
   - Настройка Nginx Proxy по протоколу https с редиректом на https
4. Развертывание DBReplicaSrv
   - создание репликации баз данных
5. Развертывание LogSrv
   - Настройка Zabbix
   - Настройка ELK
6. Развертывание BackupSrv

## Описание этапов

### Этап 1 Развертывание AppSrv

### Этап 2 Развертывание DBMasterSrv

### Этап 3 Развертывание RouterSrv

### Этап 4 Развертывание DBReplicaSrv

### Этап 5 Развертывание LogSrv

### Этап 6 Развертывание BackupSrv
